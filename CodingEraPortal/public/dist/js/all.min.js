"use strict";var caseController=function(){var t={};return t.initTag=function(){function t(){$.ajax({url:"/tag",type:"get",dataType:"json",success:function(t){for(var e="",n=0;n<t.data.content.length;n++){var i=t.data.content[n];e='<li><a href="/case?tagId='+i.id+'">'+i.name+"</a></li>"+e}a.append(e)},complete:function(t){console.log(JSON.stringify(t)),$(".tag-loading").hide()}})}var e=$(".case-content"),a=$(".tags ul");e.length>0&&t()},t}();caseController.initTag();var dynamicController=function(){var t={};t.initPageCtrl=function(){var e=$(".point-end.hand"),a=$("#dynamic-size").val(),n=($("#dynamic-card-template").html(),$(".point-end-container"));e.click(function(){var i=e.data("page");e.addClass("auto-rotate"),$.ajax({url:window.apiURL+"/dynamic/list?size="+a+"&page="+(Number(i)+1),type:"get",dataType:"json",success:function(a){for(var i=0;i<a.data.content.length;i++){var o=a.data.content[i],r=window.template("dynamic-card-template",{dynamic:o});n.before(r),e.data("page",a.data.number)}t.initFormat(),a.data.last&&(e.after('<div class="point-end"><span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span></div>'),e.remove())},complete:function(){e.removeClass("auto-rotate")}})})};var e="刚刚",a="秒前",n="分钟前",i="今天 HH:mm",o="昨天 HH:mm",r="DD日 HH:mm",c="MM月DD日 HH:mm",m="YYYY月MM日DD HH:mm";return t.friendlyTime=function(d,l,s){var f=window.moment(),u=f.year(),v=f.month(),g=f.date(),p=f.hour(),y=f.minute(),h=f.second(),$=window.moment(l),C=$.year(),H=$.month(),w=$.date(),T=$.hour(),b=$.minute(),D=$.second(),x="";if(u===C)if(v===H)if(g===w)if(p===T)if(y===b){var j=h-D;x=10>j?e:j+a,s=setTimeout(function(){t.friendlyTime(d,l,s)},1e4)}else{var M=y-b;x=M+n,s=setTimeout(function(){t.friendlyTime(d,l,s)},6e4)}else x=$.format(i);else{var S=g-w;x=1===S?$.format(o):$.format(r)}else x=$.format(c);else x=$.format(m);d.html(x)},t.initFormat=function(){var e=$('div[name*="dynamic-time-"][data-timer="0"]');e.each(function(){var e,a=$(this),n=a.data("time");t.friendlyTime(a,n,e),a.removeAttr("data-timer")})},t}();dynamicController.initPageCtrl(),dynamicController.initFormat();var homeController=function(){var t={};return t.initSectionHeader=function(){$(".gearbox"),$(".gearbox").parent("div");console.log("听说会用浏览器开发者工具的都是程序员,欢迎联系我们 %c CodingEraStudio@foxmail.com","color:red"),$(window).resize(function(){})},t}();homeController.initSectionHeader();